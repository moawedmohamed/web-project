async function fetchProductDetails(){const t=new URLSearchParams(window.location.search).get("id");if(t)try{const r=await fetch(`https://fakestoreapi.com/products/${t}`);if(!r.ok)throw new Error("Failed to fetch product");const e=await r.json(),o=generateStarsSVG(e.rating.rate);document.getElementById("product-details").innerHTML=`\n      <div class="product-detail-card">\n        <img src="${e.image}" alt="${e.title}" class="product-detail-img"/>\n        <h2>${e.title}</h2>\n        <p><strong>Price:</strong> $${e.price.toFixed(2)}</p>\n        <p><strong>Rating:</strong> ${o} (${e.rating.count} reviews)</p>\n        <p><strong>Description:</strong> ${e.description}</p>\n        <p><strong>Category:</strong> ${e.category}</p>\n      </div>\n    `}catch(t){console.error(t),document.getElementById("product-details").innerHTML="<p>Error loading product.</p>"}else document.getElementById("product-details").innerHTML="<p>Product not found.</p>"}function generateStarsSVG(t){const r=Math.floor(t),e=t%1>=.5,o=5-r-(e?1:0);let n="";for(let t=0;t<r;t++)n+='<svg class="star-icon full-star" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>';e&&(n+='<svg class="star-icon half-star" viewBox="0 0 24 24" fill="currentColor"><defs><linearGradient id="half"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="transparent"/></linearGradient></defs><path fill="url(#half)" d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>');for(let t=0;t<o;t++)n+='<svg class="star-icon empty-star" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>';return n}window.addEventListener("DOMContentLoaded",fetchProductDetails);