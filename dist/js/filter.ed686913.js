(self.webpackChunkproject=self.webpackChunkproject||[]).push([[181],{294:()=>{let t=[];function e(t){const e=document.getElementById("product-list");e.classList.add("fade-out"),setTimeout((()=>{if(e.innerHTML="",0===t.length)e.innerHTML='<p class="product-error">No products found in this category.</p>';else{const r=JSON.parse(localStorage.getItem("cart"))||[];t.forEach((t=>{const o=r.some((e=>e.id===t.id)),a=function(t,e){const n=document.createElement("div");return n.className="card-product",n.innerHTML=`\n<a href="product-details.html?id=${t.id}" style="display: inline-block;">\n  <img class="product-img" src="${t.image}" alt="${t.title}" />\n</a>    <h3 class="product-title">${t.title.split(" ").slice(0,4).join(" ")}</h3>\n    <div class="product-info">\n      <p class="product-price">$${t.price.toFixed(2)}</p>\n      <div class="product-rating">\n        ${function(t){const e=Math.floor(t),n=t%1>=.5,r=5-e-(n?1:0);let o="";for(let t=0;t<e;t++)o+='<svg class="star-icon full-star" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>';n&&(o+='<svg class="star-icon half-star" viewBox="0 0 24 24" fill="currentColor"><defs><linearGradient id="half"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="transparent"/></linearGradient></defs><path fill="url(#half)" d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>');for(let t=0;t<r;t++)o+='<svg class="star-icon empty-star" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="2" d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"/></svg>';return o}(t.rating.rate)} (${t.rating.count})\n      </div>\n      <button class="btn-cart" ${0===t.rating.count?"disabled":""} \n              data-id="${t.id}" ${e?"disabled":""}>\n        <span class="btn-cart-icon">\n          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon-bag">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"/>\n          </svg>\n        </span>\n        ${0===t.rating.count?"Unavailable":e?"Added to Cart":"Add to Cart"}\n      </button>\n    </div>\n  `,n}(t,o);e.appendChild(a);const s=a.querySelector(".btn-cart");t.rating.count>0&&s.addEventListener("click",(()=>{o||function(t){let e=JSON.parse(localStorage.getItem("cart"))||[];const r=e.find((e=>e.id===t.id));var o,a;r?r.quantity+=1:e.push({...t,quantity:1}),localStorage.setItem("cart",JSON.stringify(e)),o=t.id,a=!0,document.querySelectorAll(`.btn-cart[data-id="${o}"]`).forEach((t=>{t.textContent=a?"Added to Cart":"Add to Cart",t.disabled=a,a||t.removeAttribute("disabled")})),n()}(t)}))}))}e.classList.remove("fade-out")}),300)}function n(){const t=(JSON.parse(localStorage.getItem("cart"))||[]).reduce(((t,e)=>t+e.quantity),0),e=document.getElementById("cart-count");e&&(e.textContent=t,e.style.display=t>0?"block":"none")}window.addEventListener("DOMContentLoaded",(()=>{(async function(){try{const n=await fetch("https://fakestoreapi.com/products");if(!n.ok)throw new Error(`Failed to fetch: ${n.status}`);t=await n.json(),function(n){const r=document.getElementById("filter-buttons");r.innerHTML='\n    <div class="filter-swiper">\n      <div class="swiper-wrapper"></div>\n    </div>\n  ';const o=r.querySelector(".swiper-wrapper");n.forEach(((n,a)=>{const s=document.createElement("div");s.className="swiper-slide",s.innerHTML=`\n      <button class="filter-btn${0===a?" active":""}">\n        ${n[0].toUpperCase()+n.slice(1)}\n      </button>\n    `;const c=s.querySelector("button");c.onclick=()=>{r.querySelectorAll(".filter-btn").forEach((t=>t.classList.remove("active"))),c.classList.add("active"),function(n){e("all"===n?t:t.filter((t=>t.category===n)))}(n)},o.appendChild(s)})),setTimeout((()=>{new Swiper(".filter-swiper",{slidesPerView:"auto",spaceBetween:15,centeredSlides:!0,loop:!1})}),100)}(["all",...new Set(t.map((t=>t.category)))]),e(t)}catch(t){console.error("Error:",t),document.getElementById("product-list").innerHTML='<p class="product-error">Failed to load products. Refresh the page.</p>'}})(),n()}))}},t=>{t(t.s=294)}]);
//# sourceMappingURL=filter.ed686913.js.map