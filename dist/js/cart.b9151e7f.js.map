{"version":3,"file":"js/cart.b9151e7f.js","mappings":"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","sources":["webpack://project/./src/js/cart.js"],"sourcesContent":["// cart.js\r\n// import \"../css/cart.css\"\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n  displayCartItems();\r\n  document.getElementById(\"shipping\").addEventListener(\"change\", updateSummary);\r\n  document.getElementById(\"clear-cart\").addEventListener(\"click\", clearCart);\r\n});\r\nconst cartSection = document.querySelector(\".firstPart\");\r\ncartSection.style.height = \"auto\"; // Reset\r\nconst newHeight = cartSection.scrollHeight + \"px\";\r\ncartSection.style.height = newHeight;\r\nfunction displayCartItems() {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n  const container = document.getElementById(\"cart-container\");\r\n  container.innerHTML = \"\";\r\n\r\n  if (cart.length === 0) {\r\n    container.innerHTML = \"<p>Your cart is empty.</p>\";\r\n    updateSummary();\r\n    return;\r\n  }\r\n\r\n  cart.forEach((item, index) => {\r\n    const itemTotal = (item.price * item.quantity).toFixed(2);\r\n\r\n    const itemDiv = document.createElement(\"div\");\r\n    itemDiv.className =\r\n      \"d-flex align-items-center justify-content-between py-4 mb-3 product-holder\";\r\n    // في دالة displayCartItems، نعدل HTML ليكون أكثر تنظيماً\r\n    itemDiv.innerHTML = `\r\n              <div class=\"d-flex align-items-center product-info\" style=\"width: 40%\">\r\n                    <img style=\"width:70px;height:90px\" src=\"${\r\n                      item.image\r\n                    }\" alt=\"${item.title}\" class=\"me-3\" />\r\n                    <div>\r\n                        <h6 class=\"mb-1\">${item.title\r\n                          .split(\" \")\r\n                          .slice(0, 3)\r\n                          .join(\" \")}</h6>\r\n                        <p class=\"mb-1 text-muted\">$${item.price.toFixed(2)}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"quantity-controls\" style=\"width: 30%\">\r\n                    <div class=\"d-flex justify-content-center align-items-center gap-2 shadow-sm rounded-pill add-quantity\">\r\n                        <button class=\"btn btn-sm fw-bold decrease\" data-index=\"${index}\">-</button>\r\n                        <span class=\"px-2 fw-semibold\">${item.quantity}</span>\r\n                        <button class=\"btn btn-sm fw-bold increase\" data-index=\"${index}\">+</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex align-items-center justify-content-end product-actions\" style=\"width: 30%\">\r\n                    <div class=\"fw-bold me-3\">$${itemTotal}</div>\r\n                    <button class=\"btn btn-sm remove-item remove-gray\" data-index=\"${index}\">\r\n                        <i class=\"fa fa-trash\"></i> Remove\r\n                    </button>\r\n                </div>\r\n`;\r\n\r\n    container.appendChild(itemDiv);\r\n  });\r\n\r\n  addQuantityListeners();\r\n  addRemoveListeners();\r\n  updateSummary();\r\n}\r\n\r\nfunction addQuantityListeners() {\r\n  document.querySelectorAll(\".increase\").forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n      const index = btn.dataset.index;\r\n      cart[index].quantity++;\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      displayCartItems();\r\n    });\r\n  });\r\n\r\n  document.querySelectorAll(\".decrease\").forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n      const index = btn.dataset.index;\r\n      if (cart[index].quantity > 1) {\r\n        cart[index].quantity--;\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        displayCartItems();\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction addRemoveListeners() {\r\n  document.querySelectorAll(\".remove-item\").forEach((btn) => {\r\n    btn.addEventListener(\"click\", () => {\r\n      const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n      const index = btn.dataset.index;\r\n      cart.splice(index, 1);\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      displayCartItems();\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateSummary() {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n  const subtotal = cart.reduce(\r\n    (acc, item) => acc + item.price * item.quantity,\r\n    0\r\n  );\r\n  const tax = subtotal * 0.1; // 10% tax\r\n  const shipping = parseFloat(document.getElementById(\"shipping\").value);\r\n  const total = subtotal + tax + shipping;\r\n\r\n  document.getElementById(\"subtotal\").textContent = `$${subtotal.toFixed(2)}`;\r\n  document.getElementById(\"tax\").textContent = `$${tax.toFixed(2)}`;\r\n  document.getElementById(\"total\").textContent = `$${total.toFixed(2)}`;\r\n}\r\n\r\nfunction clearCart() {\r\n  localStorage.removeItem(\"cart\");\r\n  localStorage.removeItem(\"appliedCoupon\"); // Clear coupon too\r\n  displayCartItems();\r\n  showCouponMessage(\"Cart has been cleared\", \"success\");\r\n}\r\n\r\n// Shared function for showing messages\r\nfunction showCouponMessage(message, type) {\r\n  let messageElement = document.getElementById(\"coupon-message\");\r\n\r\n  if (!messageElement) {\r\n    messageElement = document.createElement(\"div\");\r\n    messageElement.id = \"coupon-message\";\r\n    document.querySelector(\".coupon-container\").after(messageElement);\r\n  }\r\n\r\n  messageElement.textContent = message;\r\n  messageElement.className = `coupon-message ${type}`;\r\n\r\n  setTimeout(() => {\r\n    messageElement.textContent = \"\";\r\n    messageElement.className = \"coupon-message\";\r\n  }, 3000);\r\n}\r\nlet cartCount = localStorage.getItem(\"cartCount\")\r\n  ? parseInt(localStorage.getItem(\"cartCount\"))\r\n  : 0;\r\nlet wishlistCount = localStorage.getItem(\"wishlistCount\")\r\n  ? parseInt(localStorage.getItem(\"wishlistCount\"))\r\n  : 0;\r\nconst cartCountElement = document.getElementById(\"cart-count\");\r\nconst wishlistCountElement = document.getElementById(\"wishlist-count\");\r\n\r\n// Set initial counts in the badges\r\ncartCountElement.textContent = cartCount;\r\nwishlistCountElement.textContent = wishlistCount;\r\n\r\n// Function to update cart count\r\nfunction updateCartCount(change) {\r\n  cartCount += change;\r\n  if (cartCount < 0) cartCount = 0; // Prevent negative count\r\n  cartCountElement.textContent = cartCount;\r\n  localStorage.setItem(\"cartCount\", cartCount); // Save to localStorage\r\n}\r\n\r\n// Function to update wishlist count\r\nfunction updateWishlistCount(change) {\r\n  wishlistCount += change;\r\n  if (wishlistCount < 0) wishlistCount = 0; // Prevent negative count\r\n  wishlistCountElement.textContent = wishlistCount;\r\n  localStorage.setItem(\"wishlistCount\", wishlistCount); // Save to localStorage\r\n}\r\nconst style = document.createElement(\"style\");\r\nstyle.textContent = `\r\n\r\n.product-holder {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border: 1px solid #d7d7d7;\r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.product-info, .quantity-controls, .product-actions {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.quantity-controls {\r\n    justify-content: center;\r\n}\r\n\r\n.product-actions {\r\n    justify-content: flex-end;\r\n}\r\n.remove-gray {\r\n  color: gray;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.remove-gray:hover {\r\n  color: #dc3545;\r\n}\r\n\r\n.product-holder:hover {\r\n  border: 1px solid #a5a5e2;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n.product-holder{\r\n    border:1px solid #d7d7d7;\r\n    border-radius:10px;\r\n    padding: 20px ;\r\n    margin-button:10px;\r\n\r\n}\r\n.add-quantity{\r\n    background-color: white;\r\n    border-radius:50%;\r\n    border: 1px solid #7777;\r\n    padding-right:5px;\r\n    padding-top:3px;\r\n    padding-bottom:3px;\r\n}\r\n\r\n`;\r\ndocument.head.appendChild(style);\r\n"],"names":["window","addEventListener","displayCartItems","document","getElementById","updateSummary","clearCart","cartSection","querySelector","style","height","newHeight","scrollHeight","cart","JSON","parse","localStorage","getItem","container","innerHTML","length","forEach","item","index","itemTotal","price","quantity","toFixed","itemDiv","createElement","className","image","title","split","slice","join","appendChild","querySelectorAll","btn","dataset","setItem","stringify","splice","subtotal","reduce","acc","tax","total","parseFloat","value","textContent","removeItem","messageElement","id","after","setTimeout","showCouponMessage","cartCount","parseInt","wishlistCount","cartCountElement","wishlistCountElement","head"],"sourceRoot":""}